/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/8.0/samples
 */

plugins {
    // add support for building a Java application.
    id 'war'
    // add support for generating project's reports.
    id 'project-report'
    // add support for Eclipse IDE.
    id 'eclipse-wtp'
    // add support for managing the servlet containers.
    id 'org.gretty' version '4.0.3'
}

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

// all these tasks to execute by default.
 // To get a complete list, run ./gradle run --dry-run
defaultTasks 'clean', 'war', 'eclipse', 'appStart'

group = 'j2ee'
version = '1.0.0'
description = "A simple web app"

repositories {
    // Use jcenter for resolving dependencies.
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

gretty {
	servletContainer 'jetty11'
    httpPort 8082
    contextPath '/web'

    // logging configuration
    logDir "${buildDir}/log" // pay attention to double quote
    logFileName 'webApp.log'
    loggingLevel 'TRACE'     // (loggingLevel 'ALL', 'DEBUG', 'ERROR', 'INFO', 'OFF', 'TRACE', 'WARN')
}

dependencies {
    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'
    implementation 'jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:3.0.0'
 
    compileOnly 'javax:javaee-api:8.0.1'
    
    implementation 'org.slf4j:slf4j-api:2.0.6'
    implementation 'org.slf4j:slf4j-log4j12:2.0.6'
}

